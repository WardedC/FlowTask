<!-- Navbar con Flowbite -->
<nav class="sticky top-0 z-50 mb-8 bg-gradient-to-r from-[#0075A2] to-[#1a90c4] backdrop-blur-sm">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse group">
      <div class="relative">
        <img src="/assets/FlowTask.png" class="h-14 w-14 rounded-full border-2 border-white/30 shadow-lg transition-transform duration-300 group-hover:scale-110" alt="FlowTask Logo" />
      </div>
      <div>
        <span class="self-center text-2xl font-bold whitespace-nowrap text-white">FlowTask</span>
        <p class="text-white/70 text-xs">Gestión inteligente</p>
      </div>
    </a>
    
    <div class="flex items-center space-x-4 rtl:space-x-reverse">
      <!-- Dark/Light Mode Toggle -->
      <label class="inline-flex items-center cursor-pointer">
        <input type="checkbox" 
               [checked]="isDarkMode" 
               (change)="toggleDarkMode($event)" 
               class="sr-only peer">
        <div class="relative w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-white/30 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#FFB400]">
          <i class="fas fa-sun absolute top-[5px] left-[5px] text-xs text-yellow-400 peer-checked:opacity-0 transition-opacity"></i>
          <i class="fas fa-moon absolute top-[5px] right-[5px] text-xs text-white opacity-0 peer-checked:opacity-100 transition-opacity"></i>
        </div>
      </label>
      
      <!-- User Avatar Dropdown -->
      <button type="button" (click)="toggleMenu()" class="flex text-sm bg-white/10 backdrop-blur-sm rounded-full hover:ring-4 hover:ring-white/20 focus:ring-4 focus:ring-white/20 transition-all duration-200 p-1 border border-white/20" id="user-menu-button">
        <span class="sr-only">Abrir menú de usuario</span>
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-[#FFB400] to-[#D7263D] flex items-center justify-center text-white font-bold text-sm shadow-lg">
          {{ user.initial }}
        </div>
      </button>
      
      <!-- Dropdown menu -->
      <div *ngIf="menuOpen" class="z-50 absolute right-4 top-16 my-4 text-base list-none bg-white/95 dark:bg-gray-800/95 backdrop-blur-md divide-y divide-gray-100 dark:divide-gray-700 rounded-xl shadow-2xl border border-white/30 dark:border-gray-700/50 min-w-[220px] glass-effect">
        <div class="px-4 py-3 bg-gradient-to-r from-[#0075A2]/10 to-[#6A4C93]/10 rounded-t-xl">
          <span class="block text-sm text-gray-900 dark:text-white font-bold">{{ user.name }}</span>
          <span class="block text-sm text-gray-600 dark:text-gray-300 truncate">Administrador</span>
        </div>
        <ul class="py-2" aria-labelledby="user-menu-button">
          <li>
            <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-900 dark:text-white hover:bg-[#0075A2]/10 hover:text-[#0075A2] transition-all duration-200 rounded-lg mx-2">
              <i class="fas fa-user mr-3 text-[#0075A2] w-4"></i>Perfil
            </a>
          </li>
          <li>
            <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-900 dark:text-white hover:bg-[#0075A2]/10 hover:text-[#0075A2] transition-all duration-200 rounded-lg mx-2">
              <i class="fas fa-cog mr-3 text-[#0075A2] w-4"></i>Configuración
            </a>
          </li>
          <li>
            <a routerLink="/login" class="flex items-center px-4 py-2 text-sm text-[#D7263D] hover:bg-[#D7263D]/10 transition-all duration-200 rounded-lg mx-2">
              <i class="fas fa-sign-out-alt mr-3 w-4"></i>Cerrar sesión
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- Contenido principal de la página -->
 <router-outlet> </router-outlet>
